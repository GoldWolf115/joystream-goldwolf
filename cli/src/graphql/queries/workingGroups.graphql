fragment WorkingGroupOpeningDetails on WorkingGroupOpening {
  metadata {
    description
    shortDescription
    hiringLimit
    expectedEnding
    applicationDetails
    applicationFormQuestions {
      question
      type
    }
  }
}

fragment WorkingGroupApplicationDetails on WorkingGroupApplication {
  answers {
    question {
      question
    }
    answer
  }
}

fragment UpcomingWorkingGroupOpeningDetails on UpcomingWorkingGroupOpening {
  id
  groupId
  expectedStart
  stakeAmount
  rewardPerBlock
  metadata {
    shortDescription
    description
    hiringLimit
    expectedEnding
    applicationDetails
    applicationFormQuestions {
      question
    }
  }
}

query openingDetailsById($id: ID!) {
  workingGroupOpeningByUniqueInput(where: { id: $id }) {
    ...WorkingGroupOpeningDetails
  }
}

query applicationDetailsById($id: ID!) {
  workingGroupApplicationByUniqueInput(where: { id: $id }) {
    ...WorkingGroupApplicationDetails
  }
}

query upcomingWorkingGroupOpeningByEvent($blockNumber: Int!, $indexInBlock: Int!) {
  upcomingWorkingGroupOpenings(
    where: { createdInEvent: { inBlock_eq: $blockNumber, indexInBlock_eq: $indexInBlock } }
  ) {
    ...UpcomingWorkingGroupOpeningDetails
  }
}

query upcomingWorkingGroupOpeningsByGroup($workingGroupId: ID!) {
  upcomingWorkingGroupOpenings(where: { group: { id_eq: $workingGroupId } }) {
    ...UpcomingWorkingGroupOpeningDetails
  }
}

query upcomingWorkingGroupOpeningById($id: ID!) {
  upcomingWorkingGroupOpeningByUniqueInput(where: { id: $id }) {
    ...UpcomingWorkingGroupOpeningDetails
  }
}
