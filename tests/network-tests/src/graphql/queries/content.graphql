fragment DataObjectTypeFields on DataObjectType {
  __typename
  ... on DataObjectTypeChannelAvatar {
    channel {
      id
    }
  }
  ... on DataObjectTypeChannelCoverPhoto {
    channel {
      id
    }
  }
  ... on DataObjectTypeVideoThumbnail {
    video {
      id
    }
  }
  ... on DataObjectTypeVideoMedia {
    video {
      id
    }
  }
}

fragment StorageDataObjectFields on StorageDataObject {
  id
  ipfsHash
  isAccepted
  size
  type {
    ...DataObjectTypeFields
  }
  deletionPrize
  unsetAt
  storageBagId
}

fragment ChannelFields on Channel {
  title
  description
  isPublic
  language {
    iso
  }
  rewardAccount
  isCensored
  ownerMember {
    id
  }
  ownerCuratorGroup {
    id
  }
  category {
    name
  }
  avatarPhoto {
    ...StorageDataObjectFields
  }
  coverPhoto {
    ...StorageDataObjectFields
  }
}

fragment ChannelVideoCounter on Channel {
  id
  activeVideosCounter
}

fragment ChannelCategoryVideoCounter on ChannelCategory {
  id
  activeVideosCounter
}

fragment VideoCategoryVideoCounter on VideoCategory {
  id
  activeVideosCounter
}

fragment OwnedNftFields on OwnedNft {
  id
  video {
    id
  }
  ownerMember {
    id
  }
  metadata
  transactionalStatus {
    __typename
  }
  creatorRoyalty
}

query getChannelById($id: ID!) {
  channelByUniqueInput(where: { id: $id }) {
    ...ChannelFields
  }
}

query getChannelsVideoCounters {
  channels {
    ...ChannelVideoCounter
  }
}

query getChannelCategoriesVideoCounter {
  channelCategories {
    ...ChannelCategoryVideoCounter
  }
}

query getVideoCategoriesVideoCounter {
  videoCategories {
    ...VideoCategoryVideoCounter
  }
}

query getOwnedNftByVideoId($videoId: ID!) {
  ownedNfts(where: { video: { id_eq: $videoId } }) {
    ...OwnedNftFields
  }
}
